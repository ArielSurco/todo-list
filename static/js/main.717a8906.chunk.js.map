{"version":3,"sources":["Header/Header.js","StatesList/StatesList.js","StatesList/components/StateItem.js","TodoButton/TodoButton.js","TodoList/TodoList.js","TodoList/components/TodoItem.js","TodoContext/index.js","TodoContext/useLocalStorage.js","App/AppUI.js","App/index.js","index.js"],"names":["Header","className","StatesList","props","children","StateItem","selected","onClick","onSelect","state","TodoButton","action","onAction","TodoList","TodoItem","type","checked","completed","onChange","onComplete","text","onDelete","TodoContext","React","createContext","defaultStates","TodoProvider","useState","states","setStates","itemName","initialValue","item","setItem","error","setError","loading","setLoading","useEffect","setTimeout","parsedItem","localStorageItem","localStorage","getItem","JSON","parse","stringify","saveItem","newItem","stringifiedItem","useLocalStorage","todos","saveTodos","searchValue","setSearchValue","todosFiltered","searchedTodos","stateSelectedIndex","findIndex","filter","TODO","length","todoText","toLowerCase","searchText","toLocaleLowerCase","includes","completedTodos","Provider","value","searchTodo","e","target","completeTodo","todoIndex","todo","newTodos","deleteTodo","splice","addTodo","push","select","stateIndex","prevSelected","newStates","deleteAllTodos","AppUI","useContext","Fragment","map","placeholder","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.717a8906.chunk.js","sourcesContent":["import React from 'react'\nimport './Header.css'\n\nconst Header = () => {\n    return(\n        <header className=\"Header\">\n            <h1 className=\"Header__title\">#todo</h1>\n        </header>\n    )\n}\n\nexport {Header};","import React from 'react';\nimport './StatesList.css';\n\nconst StatesList = (props) => {\n    return (\n        <ul className=\"states-list\">\n            {props.children}\n        </ul>\n    )\n}\n\nexport {StatesList};","import React from 'react';\n\nconst StateItem = (props) => {\n    return (\n        <li className={`states-list__state` + props.selected} onClick={props.onSelect}>\n            {props.state}\n        </li>\n    )\n}\n\nexport {StateItem};","import './TodoButton.css';\n\nconst TodoButton = (props) => {\n    const {action, children, onAction} = props;\n\n    return (\n        <button className={\"todo-button todo-button--\" + action} onClick={onAction}>\n            {children}\n        </button>\n    );\n}\n\nexport {TodoButton};","import React from 'react';\nimport './TodoList.css';\n\nconst TodoList = (props) => {\n\n    return (\n        <ul className=\"todo-list\">\n            {props.children}\n        </ul>\n    )\n}\n\nexport {TodoList};","import React from 'react';\n\nconst TodoItem = (props) => {\n    return (\n        <li className={props.className}>\n            <input type=\"checkbox\" checked={props.completed} onChange={props.onComplete} />\n            {props.text}\n            <i className=\"todo-item__trash\" onClick={props.onDelete}></i>\n        </li>\n    )\n}\n\nexport { TodoItem };","import React from 'react';\nimport { useLocalStorage } from './useLocalStorage';\n//Por la forma en que esta hecho no hacia falta usar React Context, pero lo uso para practicar y ver como funciona\nconst TodoContext = React.createContext();\n\nconst defaultStates = [\n    {text:\"All\", selected: true}, \n    {text:\"Active\", selected: false}, \n    {text:\"Completed\", selected: false}\n  ];\n\nconst TodoProvider = (props) => {\n    const [states, setStates] = React.useState(defaultStates);\n    const {\n      item: todos, \n      saveItem: saveTodos, \n      loading, \n      error} = useLocalStorage('TODOS', []);\n    const [searchValue, setSearchValue] = React.useState('');\n  \n    let todosFiltered = todos;\n    let searchedTodos = [];\n    \n    const stateSelectedIndex = states.findIndex( state => state.selected === true);\n    if( stateSelectedIndex === 1)\n      todosFiltered = todos.filter( TODO => TODO.completed === false);\n    else if( stateSelectedIndex === 2)\n      todosFiltered = todos.filter( TODO => TODO.completed === true);\n  \n    if(searchValue.length >= 1) {\n      searchedTodos = todosFiltered.filter( TODO => {\n      const todoText = TODO.text.toLowerCase();\n      const searchText = searchValue.toLocaleLowerCase();\n      return todoText.includes(searchText);\n      })\n    } else {\n      searchedTodos = todosFiltered;\n    }\n  \n    const select = (text) => {\n      const stateIndex = states.findIndex((state) => state.text === text)\n      const prevSelected = states.findIndex((state) => state.selected === true)\n      const newStates = [...defaultStates];\n      newStates[prevSelected].selected = false;\n      newStates[stateIndex].selected = true;\n      setStates(newStates);\n    }\n  \n    const completeTodo = (text) => {\n      const todoIndex = todos.findIndex((todo) => todo.text === text);\n      const newTodos = [...todos];\n      newTodos[todoIndex].completed = !newTodos[todoIndex].completed;\n      saveTodos(newTodos);\n    }\n  \n    const deleteTodo = (text) => {\n        const todoIndex = todos.findIndex((todo) => todo.text === text);\n        const newTodos = [...todos];\n        newTodos.splice(todoIndex, 1);\n        saveTodos(newTodos);\n    }\n  \n    const searchTodo = (e) => {\n      let searchText = e.target.value;\n      setSearchValue(searchText);\n    }\n  \n    const addTodo = (todoText) => {\n      const newTodos = [...todos];\n      newTodos.push( {text: todoText, completed: false});\n      saveTodos(newTodos);\n    }\n\n    const completedTodos = [...todos].filter(TODO => TODO.completed === true);\n\n    const deleteAllTodos = () => {\n        const newTodos = [...todos].filter(TODO => TODO.completed === false);\n        saveTodos(newTodos);\n    };\n\n    return (\n        <TodoContext.Provider value={{            \n            loading,\n            error,\n            todos,\n            searchValue,\n            searchTodo,\n            searchedTodos,\n            completeTodo,\n            deleteTodo,\n            addTodo,\n            states,\n            select,\n            deleteAllTodos,\n            stateSelectedIndex,\n            completedTodos\n        }}>\n            {props.children}\n        </TodoContext.Provider>\n    )\n}\n\nexport { TodoContext, TodoProvider };","import React from 'react';\n\nconst useLocalStorage = (itemName, initialValue) => {\n    const [item, setItem] = React.useState(initialValue);\n    const [error, setError] = React.useState(false);\n    const [loading, setLoading] = React.useState(true); \n  \n    React.useEffect(() => {\n      setTimeout(() => {\n        try {\n          const localStorageItem = localStorage.getItem(itemName);\n          let parsedItem;\n  \n          if(!localStorageItem) {\n            localStorage.setItem(itemName, JSON.stringify(initialValue));\n            parsedItem = initialValue;\n          } else {\n            parsedItem = JSON.parse(localStorageItem);\n          }\n          setItem(parsedItem);\n          setLoading(false);\n        } catch(error) {\n          setError(error);\n        }\n      }, 1000)\n    }, []);\n  \n    const saveItem = (newItem) => {\n      try {\n        const stringifiedItem = JSON.stringify(newItem);\n        localStorage.setItem(itemName, stringifiedItem);\n        setItem(newItem);\n      } catch(error) {\n        setError(error);\n      }\n    }\n    //Cuando un Custom Hook devuelve mas de 2 valores, es recomendable retornar un objeto en lugar de un array\n    return {\n      item,\n      saveItem,\n      loading,\n      error\n    };\n}\n\nexport {useLocalStorage};","import './App.css';\nimport React from 'react';\nimport { Header } from '../Header/Header';\nimport { StatesList } from '../StatesList/StatesList';\nimport { StateItem } from '../StatesList/components/StateItem';\nimport { TodoButton } from '../TodoButton/TodoButton';\nimport { TodoList } from '../TodoList/TodoList';\nimport { TodoItem } from '../TodoList/components/TodoItem';\nimport { TodoContext } from '../TodoContext';\n\nconst AppUI = () => {\n  const {\n    loading,\n    error,\n    todos,\n    searchValue,\n    searchTodo,\n    searchedTodos,\n    completeTodo,\n    deleteTodo,\n    addTodo,\n    states,\n    select,\n    deleteAllTodos,\n    stateSelectedIndex,\n    completedTodos\n  } = React.useContext(TodoContext);\n\n  return (\n      <React.Fragment>\n        <Header />\n        <main className=\"main\">\n          <StatesList>\n            {states.map(state => (\n              <StateItem\n              onSelect={() => select(state.text)}\n              selected={state.selected ? \"--selected\" : \"\"}\n              key={state.text}\n              state={state.text}\n              />\n              ))}\n          </StatesList>\n          <section className=\"TODOS\">\n            <div className=\"search-items\">\n              <input className=\"todo-search\" onChange={searchTodo} placeholder=\"Add details\"/>\n              <TodoButton action=\"add\" onAction={() => addTodo(searchValue)}>Add</TodoButton>\n            </div>\n            <TodoList>\n              {loading && <p>Cargando...</p>}\n              {error && <p>Hubo un error</p>}\n              {(!loading && !todos.length) && <p>Crea tu primer TODO!</p>}\n              {searchedTodos.map(todo => (\n                  <TodoItem\n                  className={\"todo-list__todo-item \" + (todo.completed ? \"completed\" : \"\")}\n                  key={todo.text}\n                  text={todo.text}\n                  completed = {todo.completed}\n                  onComplete={() => completeTodo(todo.text)}\n                  onDelete={() => deleteTodo(todo.text)}\n                  />\n              ))}\n            </TodoList>\n            {(stateSelectedIndex === 2 && completedTodos.length >= 1) && <TodoButton action=\"delete\" onAction={deleteAllTodos}>Delete All</TodoButton>}\n          </section>\n        </main>\n        <footer className=\"footer\">\n          <p className=\"footer__copyright\">created by <span className=\"footer__copyright--username\">ArielSurco</span> - devchallenges.io</p>\n        </footer>\n      </React.Fragment>\n  );\n}\n\nexport { AppUI };","import React from 'react';\nimport { AppUI } from './AppUI';\nimport { TodoProvider } from '../TodoContext';\n\nconst App = () => {\n    return (\n        <TodoProvider>\n            <AppUI />\n        </TodoProvider>\n    )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App/index';\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);"],"sourceRoot":""}