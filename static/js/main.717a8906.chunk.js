(this["webpackJsonptodo-machine"]=this["webpackJsonptodo-machine"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),o=c.n(n),r=c(7),s=c.n(r),a=(c(12),c(13),c(14),c(0)),l=function(){return Object(a.jsx)("header",{className:"Header",children:Object(a.jsx)("h1",{className:"Header__title",children:"#todo"})})},i=(c(16),function(e){return Object(a.jsx)("ul",{className:"states-list",children:e.children})}),d=function(e){return Object(a.jsx)("li",{className:"states-list__state"+e.selected,onClick:e.onSelect,children:e.state})},u=(c(17),function(e){var t=e.action,c=e.children,n=e.onAction;return Object(a.jsx)("button",{className:"todo-button todo-button--"+t,onClick:n,children:c})}),j=(c(18),function(e){return Object(a.jsx)("ul",{className:"todo-list",children:e.children})}),f=function(e){return Object(a.jsxs)("li",{className:e.className,children:[Object(a.jsx)("input",{type:"checkbox",checked:e.completed,onChange:e.onComplete}),e.text,Object(a.jsx)("i",{className:"todo-item__trash",onClick:e.onDelete})]})},m=c(3),x=c(2),h=o.a.createContext(),O=[{text:"All",selected:!0},{text:"Active",selected:!1},{text:"Completed",selected:!1}],b=function(e){var t=o.a.useState(O),c=Object(x.a)(t,2),n=c[0],r=c[1],s=function(e,t){var c=o.a.useState(t),n=Object(x.a)(c,2),r=n[0],s=n[1],a=o.a.useState(!1),l=Object(x.a)(a,2),i=l[0],d=l[1],u=o.a.useState(!0),j=Object(x.a)(u,2),f=j[0],m=j[1];return o.a.useEffect((function(){setTimeout((function(){try{var c,n=localStorage.getItem(e);n?c=JSON.parse(n):(localStorage.setItem(e,JSON.stringify(t)),c=t),s(c),m(!1)}catch(i){d(i)}}),1e3)}),[]),{item:r,saveItem:function(t){try{var c=JSON.stringify(t);localStorage.setItem(e,c),s(t)}catch(i){d(i)}},loading:f,error:i}}("TODOS",[]),l=s.item,i=s.saveItem,d=s.loading,u=s.error,j=o.a.useState(""),f=Object(x.a)(j,2),b=f[0],p=f[1],v=l,g=[],N=n.findIndex((function(e){return!0===e.selected}));1===N?v=l.filter((function(e){return!1===e.completed})):2===N&&(v=l.filter((function(e){return!0===e.completed}))),g=b.length>=1?v.filter((function(e){var t=e.text.toLowerCase(),c=b.toLocaleLowerCase();return t.includes(c)})):v;var S=Object(m.a)(l).filter((function(e){return!0===e.completed}));return Object(a.jsx)(h.Provider,{value:{loading:d,error:u,todos:l,searchValue:b,searchTodo:function(e){var t=e.target.value;p(t)},searchedTodos:g,completeTodo:function(e){var t=l.findIndex((function(t){return t.text===e})),c=Object(m.a)(l);c[t].completed=!c[t].completed,i(c)},deleteTodo:function(e){var t=l.findIndex((function(t){return t.text===e})),c=Object(m.a)(l);c.splice(t,1),i(c)},addTodo:function(e){var t=Object(m.a)(l);t.push({text:e,completed:!1}),i(t)},states:n,select:function(e){var t=n.findIndex((function(t){return t.text===e})),c=n.findIndex((function(e){return!0===e.selected})),o=[].concat(O);o[c].selected=!1,o[t].selected=!0,r(o)},deleteAllTodos:function(){var e=Object(m.a)(l).filter((function(e){return!1===e.completed}));i(e)},stateSelectedIndex:N,completedTodos:S},children:e.children})},p=function(){var e=o.a.useContext(h),t=e.loading,c=e.error,n=e.todos,r=e.searchValue,s=e.searchTodo,m=e.searchedTodos,x=e.completeTodo,O=e.deleteTodo,b=e.addTodo,p=e.states,v=e.select,g=e.deleteAllTodos,N=e.stateSelectedIndex,S=e.completedTodos;return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(l,{}),Object(a.jsxs)("main",{className:"main",children:[Object(a.jsx)(i,{children:p.map((function(e){return Object(a.jsx)(d,{onSelect:function(){return v(e.text)},selected:e.selected?"--selected":"",state:e.text},e.text)}))}),Object(a.jsxs)("section",{className:"TODOS",children:[Object(a.jsxs)("div",{className:"search-items",children:[Object(a.jsx)("input",{className:"todo-search",onChange:s,placeholder:"Add details"}),Object(a.jsx)(u,{action:"add",onAction:function(){return b(r)},children:"Add"})]}),Object(a.jsxs)(j,{children:[t&&Object(a.jsx)("p",{children:"Cargando..."}),c&&Object(a.jsx)("p",{children:"Hubo un error"}),!t&&!n.length&&Object(a.jsx)("p",{children:"Crea tu primer TODO!"}),m.map((function(e){return Object(a.jsx)(f,{className:"todo-list__todo-item "+(e.completed?"completed":""),text:e.text,completed:e.completed,onComplete:function(){return x(e.text)},onDelete:function(){return O(e.text)}},e.text)}))]}),2===N&&S.length>=1&&Object(a.jsx)(u,{action:"delete",onAction:g,children:"Delete All"})]})]}),Object(a.jsx)("footer",{className:"footer",children:Object(a.jsxs)("p",{className:"footer__copyright",children:["created by ",Object(a.jsx)("span",{className:"footer__copyright--username",children:"ArielSurco"})," - devchallenges.io"]})})]})},v=function(){return Object(a.jsx)(b,{children:Object(a.jsx)(p,{})})};s.a.render(Object(a.jsx)(v,{}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.717a8906.chunk.js.map